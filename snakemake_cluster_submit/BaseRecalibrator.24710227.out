Building DAG of jobs...
Using shell: /usr/bin/bash
Provided cores: 16
Rules claiming more threads will be scaled down.
Job counts:
	count	jobs
	1	BaseRecalibrator
	1
Select jobs to execute...

[Tue Sep 14 15:38:16 2021]
rule BaseRecalibrator:
    input: /g/huber/users/hirschmueller/software/gatk-4.2.0.0/gatk, /g/huber/users/hirschmueller/germline_calling/inputs/Homo_sapiens_assembly19.fa, /g/huber/users/hirschmueller/germline_calling/inputs/dbsnp_138.b37.verified.vcf.gz, /g/huber/users/hirschmueller/germline_calling/inputs/WGS-interval-files-excluding-supercontigs/intervals.txt, /g/huber/projects/nct/cll/ProcessedData/WGS/BAM/control/control_H005-00ML_merged.mdup.bam
    output: /scratch/hirschmu/H005-00ML/BaseRecalibrator_finished
    log: /g/huber/users/hirschmueller/germline_calling/UPDATED-PIPELINE/H005-00ML/logs/BaseRecalibrator
    jobid: 0
    benchmark: /g/huber/users/hirschmueller/germline_calling/UPDATED-PIPELINE/H005-00ML/benchmark/BaseRecalibrator.txt
    wildcards: patient=H005-00ML
    priority: 30
    threads: 15
    resources: runtime_min=180, mem_mb=50000

mem_per_job=$(expr 50000 / 15) 
export mem_per_job 
cat /g/huber/users/hirschmueller/germline_calling/inputs/WGS-interval-files-excluding-supercontigs/intervals.txt | parallel --plus -j 15 '/g/huber/users/hirschmueller/software/gatk-4.2.0.0/gatk --java-options -Xmx${mem_per_job}m BaseRecalibrator -I /g/huber/projects/nct/cll/ProcessedData/WGS/BAM/control/control_H005-00ML_merged.mdup.bam -R /g/huber/users/hirschmueller/germline_calling/inputs/Homo_sapiens_assembly19.fa --known-sites /g/huber/users/hirschmueller/germline_calling/inputs/dbsnp_138.b37.verified.vcf.gz -L {} -O /scratch/hirschmu/H005-00ML/normal_recal_bqsr.{/}.table &> /g/huber/users/hirschmueller/germline_calling/UPDATED-PIPELINE/H005-00ML/logs/BaseRecalibrator.{/}.out' 
touch /scratch/hirschmu/H005-00ML/BaseRecalibrator_finished
